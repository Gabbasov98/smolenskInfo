$("._tab").click(function() {
    let parentBlock = $(this).parents("._tabs-parent")
    let tabId = $(this).attr("data-tab")
    $(parentBlock).find("._tab").removeClass("_active")
    $(this).addClass("_active")
    $(parentBlock).find(".tab-content").removeClass("_active")
    $(parentBlock).find(`.${tabId}`).addClass("_active")

    setActiveTab($(parentBlock))
    closeDropdown($(parentBlock).find(".tabs"))
})

$("._tabs-parent").each(function (i,el) {
    setActiveTab($(el))
})

function setActiveTab(el) {
    let activeTab = $(el).find("._tab._active").html()
    $(el).find(".tabs__current").html(activeTab)
}

$(".tabs__select").click(function () {
    $(this).parents(".tabs").toggleClass("_show-dropdown")
})

function closeDropdown(tabs) {
    $(tabs).removeClass("_show-dropdown")
}

$(document).mouseup( function(e){
    var div = $( ".tabs" );
    if ( !div.is(e.target)
        && div.has(e.target).length === 0 ) {
        if($(div).hasClass("_show-dropdown")){
            closeDropdown($(div))
        }
    }
});

setPlaceholders()
function setPlaceholders(){
    $("[data-placeholder2]").each(function (i,el) {
        let placeholder = $(el).attr("data-placeholder")
        let placeholder2 = $(el).attr("data-placeholder2")


        if(window.innerWidth>576){
            $(el).attr("placeholder",placeholder)
        } else{
            $(el).attr("placeholder",placeholder2)
        }
    })
}

$(".header-search__toggle").click(function () {
    $(".header-search").addClass("_show-field")
})

$(document).mouseup( function(e){
    var div = $( ".header-search" );
    if ( !div.is(e.target)
        && div.has(e.target).length === 0 ) {
        if($(div).hasClass("_show-field")){
            $(div).removeClass("_show-field")
        }
        if($(div).hasClass("_show-dropdown")){
            $(div).removeClass("_show-dropdown")
        }
    }
});

$(".header-search__field input").on("input",function () {
    if($(this).val().length > 3){
        $(".header-search").addClass("_show-dropdown")
    }
})


$(".nav__item").hover(onInMenu, onOutMenu);

function onInMenu() {
    if (window.innerWidth > 992) {
        let el = $(this)
        setTimeout(function() {
            if (el.is(':hover')) {
                el.addClass("_active")
            }
        }, 100);
    }
}

function onOutMenu() {
    if (window.innerWidth > 992) {
        let el = $(this)
        setTimeout(function() {
            if (!el.is(':hover')) {
                el.removeClass("_active")
            }
        }, 200);
    }
}

$(".nav__show").click(function () {
    $(this).parents(".nav__item").toggleClass("_active")
    $(this).siblings(".nav__hidden").slideToggle()
})

$(".burger").click(function () {
    $(".header").addClass("_open")
    $("body").addClass("fixed-body")
})

$("._close-menu").click(function () {
    $(".header").removeClass("_open")
    $("body").removeClass("fixed-body")
})

function Sliders() {
    let SlidersArray = []

    let sliders = document.querySelectorAll(".slider")
    sliders.forEach((slider,index) => {
        slider.setAttribute("data-slider-id",index)

        SlidersArray[index] = new Swiper(`.slider[data-slider-id="${index}"] .swiper-container`, {
            slidesPerView: "auto",
            spaceBetween: 0,
            watchSlidesProgress: true,
            preventClicks :true,
            a11y: false,
            observer: true,
            observeParents: true,
            observeSlideChildren: true,
            navigation: {
                nextEl: `.slider[data-slider-id="${index}"] .swiper-button-next`,
                prevEl: `.slider[data-slider-id="${index}"] .swiper-button-prev`,
            },
            pagination: {
                el: `.slider[data-slider-id="${index}"] .swiper-pagination`,
                type: 'bullets',
                clickable: true,
            },
        })
    })
}

function gallery() {
    let SlidersArray = []

    let sliders = document.querySelectorAll(".report-gallery")
    sliders.forEach((slider,index) => {
        slider.setAttribute("data-slider-id",index)
        let gallery = {
            mySwiper: {},
            mySwiper2: {}
        }

        gallery.mySwiper = new Swiper(`.report-gallery[data-slider-id="${index}"] .mySwiper`, {
            spaceBetween: 0,
            slidesPerView: "auto",
            // freeMode: true,
            watchSlidesProgress: true,
        });
        gallery.mySwiper2 = new Swiper(`.report-gallery[data-slider-id="${index}"] .mySwiper2`, {
            spaceBetween: 0,
            navigation: {
                nextEl: `.report-gallery[data-slider-id="${index}"] .swiper-button-next`,
                prevEl: `.report-gallery[data-slider-id="${index}"] .swiper-button-prev`,
            },
            thumbs: {
                swiper:  gallery.mySwiper,
            },
        });

        SlidersArray[index] = gallery
    })

}

Sliders()
gallery()

$(".map-group").click(function () {
    let id = $(this).attr("data-tab")

    $(".map-group").removeClass("_active")
    $(this).addClass("_active")
    $(".district-info").removeClass("_active")
    $(`.district-info.${id}`).addClass("_active")
    console.log(`.district-info.${id}`)
})

// $(".test path").click(function () {
//     // let id = $(this).attr("data-tab")
//     // console.log(id)
//     console.log(true)
//     // $(".map-group").removeClass("_active")
// })

// $(document).on('click','path',function(){
//     alert('You clicked me');
//     //Do the stuff
// });

$(".chapter-menu-btn").click(function () {
    $(".chapter-menu").addClass("_active")
    $("body").addClass("fixed-body")
})

$("._close-chapter-menu").click(function () {
    $(".chapter-menu").removeClass("_active")
    $("body").removeClass("fixed-body")
})

$(".filter__btn").click(function () {
    if($(this).hasClass("_active")){
        $(".filter__btn").removeClass("_active")
        $(this).addClass("_active")
        $(this).toggleClass("_reverse")
    } else{
        $(".filter__btn").removeClass("_active")
        $(this).addClass("_active")
    }
})

let startDate = new Date;

new AirDatepicker('.calendar-item input', {
    locale: {
        days: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],
        daysShort: ['Вос', 'Пон', 'Вто', 'Сре', 'Чет', 'Пят', 'Суб'],
        daysMin: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
        months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
        monthsShort: ['Янв', 'Фев', 'Мар', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],
        today: 'Сегодня',
        clear: 'Очистить',
        dateFormat: 'dd.MM.yyyy',
        timeFormat: 'HH:mm',
        firstDay: 1,
    },
    inline: true,
    // isMobile: true,
    startDate,
    multipleDates: true ,
    selectedDates: [startDate, '2023-10-15', '2023-10-21']
})

$(document).ready(function() {
    // $('input[type="tel"]').mask('+7 (999) 999-99-99', { autoclear: false }, { placeholder: '+7 (   )    -  -  ' });
    // $(".fg select").niceSelect()

    // getScrollBarSize()

    fix100vh()
    $(window).resize(function () {
        fix100vh()
        // getScrollBarSize()
        setPlaceholders()
    })

    // new AirDatepicker('.date-input', {
    //
    //     // inline: true,
    //     // isMobile: true,
    //     autoClose: true,
    //     onSelect: () => {
    //         $(".date-input").addClass("input-active")
    //     }
    // })
});

function fix100vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}

//# sourceMappingURL=../sourcemaps/main.min.js.map
